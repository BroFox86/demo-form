{const e=document.querySelectorAll(".js-datepicker-toggle"),t={};for(let a=0;a<e.length;a++)t.i=datepicker(e[a],{onSelect(){const t=new Event("change",{bubbles:!0});e[a].dispatchEvent(t)},formatter:function(e,t,a){const s=t.toISOString().slice(0,10);e.value=s}})}class AlertNote{close(e){const t=e.parentElement,a=this._getDuration(t);t.classList.add("is-hidden"),setTimeout(()=>t.remove(),a)}_getDuration(e){return 1e3*parseFloat(getComputedStyle(e).transitionDuration)}}const alertNote=new AlertNote;class CardDetector{constructor(e){this.field=e,this.handleInput()}handleInput(){this.field.addEventListener("input",e=>{this._handleIcons(e.target.value)})}_handleIcons(e){const t=this.field;switch(e[0]){case"3":t.dataset.cardType="amex";break;case"4":t.dataset.cardType="visa";break;case"5":t.dataset.cardType="mc";break;case"6":t.dataset.cardType="discover";break;default:t.dataset.cardType=""}}}try{new CardDetector(document.querySelector(".js-card-detection-toggle"))}catch(e){console.log(e)}class MaterialForm{constructor(e){this.form=e,this.handlePopulated(),this.handleEvents()}handleEvents(){this.form.addEventListener("focus",e=>{this.handleState(e.target,e.type)},!0),this.form.addEventListener("blur",e=>{this.handleState(e.target,e.type)},!0),this.form.addEventListener("change",e=>{this.handleState(e.target,e.type)}),this.form.addEventListener("reset",()=>{this.handleReset(),this.handlePopulated()})}handlePopulated(){for(let e of this.form.elements)this.handleState(e)}handleState(e,t){const a=e.closest(".field-group");a&&"INPUT"==e.tagName&&("focus"==t?""==e.value&&a.classList.add("is-focused"):""!=e.value?a.classList.add("is-focused"):a.classList.remove("is-focused"))}handleReset(){const e=this.form.querySelectorAll(".is-focused");for(let t of e)t.classList.remove("is-focused")}}try{new MaterialForm(document.querySelector(".js-material-form-toggle"))}catch(e){console.log(e)}class Modal{constructor(e){this.modal=document.querySelector(e),this.container=this.modal.querySelector(".modal__container")}open(){this.modal.hidden=!1,this.modal.removeAttribute("aria-hidden"),this.modal.setAttribute("aria-modal",!0),setTimeout(()=>{this.modal.classList.add("is-visible"),this._togglePageScroll()},20)}close(){const e=this._getDuration(this.container);this.modal.classList.remove("is-visible"),this.modal.setAttribute("aria-hidden","true"),this._togglePageScroll(),setTimeout(()=>{this.modal.hidden=!0,this.modal.removeAttribute("aria-modal")},e)}_togglePageScroll(){const e=document.body,t=window.innerWidth-document.documentElement.clientWidth;e.matches(".is-fixed-by-modal")?setTimeout(()=>{e.classList.remove("is-fixed-by-modal"),e.style.marginRight=""},this._getDuration(this.container)):(e.classList.add("is-fixed-by-modal"),e.style.marginRight=`${t}px`)}_getDuration(e){return 1e3*parseFloat(getComputedStyle(e).transitionDuration)}}try{window.termsModal=new Modal(".js-terms-modal")}catch(e){console.log(e)}function handleValidation(e){"use strict";const t="is-valid",a="is-invalid",s="field-group",i="field-group__input",o="field-group__message",l="",n={tel:"Please follow these patterns: 123-456-7890, 123 456 7890 or 1234567890","bday-day":"Please enter a valid date of birth","cc-name":"Please enter a valid card name","cc-number":"Please enter a valid card number","cc-csc":"Please enter a valid secure code"};let r;function c(){if(0!=r.type.search(/search|hidden|radio|button/)&&!r.disabled){if(r.required){if("checkbox"==r.type&&!r.checked)return void u("This checkbox is required",!1);if("INPUT"==r.tagName&&!function(){if(""!=r.value)return!0}())return void u("This field is required",!1);if("SELECT"==r.tagName&&!d())return void u("Please select an option",!1)}if("checkbox"!=r.type||r.checked)if("INPUT"!=r.tagName||""!=r.value)if("SELECT"!=r.tagName||d())if("number"!=r.type)if(function(){const e=+r.getAttribute("minlength"),t=function(e){let t=0;for(;e[t];)t++;return t}(r.textContent||r.value);if(!e||t>=e)return!0}()&&function(){const e=r.value;if(!r.pattern)return!0;{const t=new RegExp(r.pattern);if(e.match(t))return!0}}())u(l,!0);else{let e=r.autocomplete||r.type;null!=n[e]?u(n[e],!1):u(`Please enter a valid ${e}`,!1)}else!function(){const e=r.value,t=+r.min||-1/0,a=+r.max||1/0;if(e>=t&&e<=a)return!0}()?u("Please enter a valid number",!1):u(l,!0);else u("Empty option is allowed",!0);else u("Empty field is allowed",!0);else u("Unchecked checkbox is allowed",!1)}}function d(){let e=r.options[r.selectedIndex];if(!e.disabled&&"js-select-placeholder"!=e.className)return!0}function u(e,l){let n=r.closest(`.${s}`)||r.parentElement;if(r.classList.contains(i)){switch(l){case!1:n.classList.add(a),n.classList.remove(t);break;case!0:n.classList.add(t),n.classList.remove(a)}!function(e){let t,a;if(t=r.closest(`.${s}`)||r.parentElement,a=t.querySelector(`.${o}`),!e)return void(a&&a.remove());a||(a=document.createElement("span"),a.className=o,t.append(a));a.textContent=e}(e)}}["input","change"].forEach(t=>{e.addEventListener(t,e=>{r=e.target,c()})}),e.onclick=t=>{"submit"==t.target.type&&(t.preventDefault(),function(){for(let t of e.elements)"BUTTON"!=t.tagName&&(r=t,c());(function(){for(let t of e.elements)if(t.closest(`.${a}`))return!1;return!0})()&&e.submit()}())},e.addEventListener("reset",()=>{const s=e.querySelectorAll(`.${o}`),i=e.querySelectorAll(`.${a}, .${t}`);for(let e of i)e.classList.remove(t,a,"is-focused");for(let e of s)e.remove()})}try{handleValidation(document.querySelector(".js-validation-toggle"))}catch(e){console.log(e)}